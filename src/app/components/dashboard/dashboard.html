<!-- A classe 'sidebar-collapsed' será adicionada dinamicamente -->
<div class="dashboard-container" [class.sidebar-collapsed]="isSidebarCollapsed">
  <!-- BARRA LATERAL DE NAVEGAÇÃO -->
  <aside class="sidebar">
    <div class="sidebar-header">
      <!-- O título agora também pode ser um link para o dashboard -->
      <a class="sidebar-title-link" routerLink="/dashboard">
        <span class="logo-icon">$</span>
        <span class="title-text">Controle$</span>
      </a>
    </div>
    <nav class="sidebar-nav">
      <!-- 
          MUDANÇAS IMPORTANTES:
          - Trocamos 'href' por 'routerLink' para navegação interna do Angular.
          - 'routerLinkActive' aplica a classe 'active' automaticamente ao link da rota atual.
        -->
      <a
        routerLink="/dashboard"
        routerLinkActive="active"
        [routerLinkActiveOptions]="{ exact: true }"
        class="nav-item"
      >
        <span>Dashboard</span>
      </a>
      <a
        routerLink="/dashboard/transactions"
        routerLinkActive="active"
        class="nav-item"
      >
        <span>Transações</span>
      </a>
      <a
        routerLink="/dashboard/reports"
        routerLinkActive="active"
        class="nav-item"
      >
        <span>Relatórios</span>
      </a>
      <a
        routerLink="/dashboard/settings"
        routerLinkActive="active"
        class="nav-item"
      >
        <span>Configurações</span>
      </a>
    </nav>
    <div class="sidebar-footer">
      <!-- O (click) chama o método de logout do nosso componente -->
      <a (click)="logout()" class="nav-item" style="cursor: pointer">
        <span>Sair</span>
      </a>
    </div>
  </aside>

  <!-- CONTEÚDO PRINCIPAL -->
  <main class="main-content">
    <header class="main-header">
      <div class="header-left">
        <!-- Botão Hamburger para controlar a sidebar -->
        <button class="hamburger-btn" (click)="toggleSidebar()">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <line x1="3" y1="12" x2="21" y2="12"></line>
            <line x1="3" y1="6" x2="21" y2="6"></line>
            <line x1="3" y1="18" x2="21" y2="18"></line>
          </svg>
        </button>
        <!-- A saudação agora usa a propriedade 'userName' -->
        <h1>Olá, {{ userName }}!</h1>
      </div>
      <button class="btn-add-transaction">+ Adicionar Transação</button>
    </header>

    <!-- 
        ROUTER OUTLET:
        Este é o espaço reservado onde o Angular irá renderizar os componentes filhos
        (a tela de Dashboard, a de Transações, etc.).
      -->
    <router-outlet></router-outlet>
  </main>
</div>
